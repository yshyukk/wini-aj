<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >


<sqlMap namespace="EquipDAO">

<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	
	<!-- 장비 종류 조회 -->
	<select id="EquipDAO.selectEquipType" resultClass="egovMap">
		SELECT 
			eqp_code											<!-- 장비 종류 코드 -->
			, eqp_type											<!-- 장비 종류명 -->
			, TO_CHAR(reg_dt, 'YYYY-MM-DD') AS reg_dt			<!-- 장비 종류 등록일 -->
		FROM AJ_EQUIP_TYPE
		ORDER BY eqp_code ASC
	</select>
	
	<!-- 장비 목록 조회 -->
	<select id="EquipDAO.selectEquipList" resultClass="egovMap">
		SELECT 
			eqp_sn				<!-- 번호 -->
			, eqp_nm			<!-- 장비명 -->
			, eqp_no			<!--장비 S/N  -->
			, dst_yn			<!-- 배부여부 -->
			, repair_yn			<!-- 수리여부 -->
		FROM AJ_EQUIP
		WHERE eqp_code = #typeNum#
	</select>
	
	<!-- 장비 종류 등록 -->
	<insert id="EquipDAO.insertEquipType">
		INSERT INTO AJ_EQUIP_TYPE
		(
			 eqp_code
			, eqp_type
			, reg_dt
		)
		VALUES 
		(
			(SELECT NVL(MAX(eqp_code) , 0) + 1 FROM AJ_EQUIP_TYPE)
			, #addTypeNm#
			, SYSDATE
		)
	</insert>
</sqlMap>


<!-- 			eqp_sn				번호 -->
<!-- 			, eqp_nm			장비명 -->
<!-- 			, eqp_no			장비 S/N  -->
<!-- 			, buy_dt			구매일 -->
<!-- 			, buy_pirce			구매가격 -->
<!-- 			, dst_yn			배부여부 -->
<!-- 			, dst_dt			배부일 -->
<!-- 			, where_use			사용장소 -->
<!-- 			, repair_yn			수리여부 -->